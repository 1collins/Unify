<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Unico Kitchen â€” Recipes, Shop & Gas</title>
  <style>
    :root{--accent:#ff6b35;--muted:#666;--bg:#fafafa}
    *{box-sizing:border-box}
    body{font-family:Inter,system-ui,Arial;margin:0;background:var(--bg);color:#111}
    .container{max-width:1100px;margin:0 auto;padding:18px}
    header{background:#fff;box-shadow:0 2px 6px rgba(0,0,0,.06);position:sticky;top:0;z-index:100}
    .header-inner{display:flex;align-items:center;gap:12px;padding:12px 18px}
    .logo{width:56px;height:56px;object-fit:cover;border-radius:10px;padding:6px;background:#fff;border:1px solid rgba(0,0,0,.04)}
    .brand{font-weight:800;font-size:18px;color:var(--accent)}
    .tagline{font-size:12px;color:var(--muted);margin-top:2px}
    .tabs{margin-left:20px;display:flex;gap:8px}
    .tab{padding:8px 12px;border-radius:8px;cursor:pointer}
    .tab.active{background:#fff;border:1px solid #eee;box-shadow:0 1px 4px rgba(0,0,0,.04)}
    .cart-icon{margin-left:auto;display:flex;align-items:center;gap:10px}
    .count-badge{background:var(--accent);color:#fff;padding:4px 8px;border-radius:999px;font-weight:700}
    main{padding:24px 18px}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:18px}
    .card{background:#fff;border-radius:12px;padding:12px;box-shadow:0 2px 8px rgba(8,8,8,.04)}
    .card img{width:100%;height:160px;object-fit:cover;border-radius:8px;display:block}
    .btn{display:inline-block;padding:8px 10px;border-radius:8px;background:var(--accent);color:#fff;text-decoration:none;cursor:pointer;border:none}
    .btn.small{padding:6px 8px;font-size:13px}
    .btn.secondary{background:#eee;color:#111}
    .ingredients{margin-top:10px}
    .ingredient{display:flex;justify-content:space-between;align-items:center;padding:6px 0;border-bottom:1px dashed #f0f0f0}
    .shop-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px}
    .shop-item img{height:120px;object-fit:cover;width:100%;border-radius:8px}
    .cart-panel{position:fixed;right:18px;bottom:18px;background:#fff;padding:12px;border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,.12);width:340px;max-height:60vh;overflow:auto;z-index:200}
    .hidden{display:none}
    footer{padding:18px;text-align:center;color:var(--muted);font-size:14px}
    .notice{font-size:13px;color:var(--muted)}
    #toast{position:fixed;left:50%;transform:translateX(-50%);bottom:120px;background:#222;color:#fff;padding:8px 12px;border-radius:8px;display:none;z-index:300}
    @media (max-width:720px){.logo{width:44px;height:44px}.tagline{display:none}.tabs{display:none}.grid{grid-template-columns:1fr}.cart-panel{width:90%;right:5%;left:5%}}
  </style>
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="header-inner container">
      <div style="display:flex;align-items:center;gap:12px">
        <!-- --- EDIT LOGO: put your permanent file path or uploaded repo path here --- -->
        <img id="siteLogo" class="logo" src="https://chatgpt.com/backend-api/estuary/content?id=file_000000000be46243bf003c9c16ca6bd8&ts=489056&p=fs&cid=1&sig=47850247fa0cf989f007af960a690ab0e8320ab43338b560e3837b4c507e6078&v=0" alt="Unico Kitchen Logo">
        <div>
          <div class="brand">Unico Kitchen</div>
          <div class="tagline">You cook, we follow â€” real recipes, real kitchen love.</div>
        </div>
      </div>

      <div class="tabs" id="navTabs" role="tablist" aria-label="Main navigation">
        <div class="tab active" data-tab="home" role="tab">Recipes</div>
        <div class="tab" data-tab="shop" role="tab">Shop</div>
        <div class="tab" data-tab="gas" role="tab">Gas</div>
        <div class="tab" data-tab="fridge" role="tab">Fridge</div>
      </div>

      <div class="cart-icon">
        <div style="cursor:pointer" id="openCart">ðŸ›’ <span id="cartCount" class="count-badge">0</span></div>
        <!-- Send cart (priced) to WhatsApp -->
        <button id="sendOrderBtn" class="btn small" type="button">Send Order</button>
        <!-- Send planned recipes (no prices) -->
        <button id="sendPlanBtn" class="btn small secondary" type="button">Send Plan (<span id="planCount">0</span>)</button>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- RECIPES -->
    <section id="home" class="tab-panel">
      <h2>All Recipes</h2>
      <div style="margin-bottom:12px">
        <input id="searchInput" class="search" placeholder="Search recipes..." style="width:100%;max-width:360px;padding:10px;border-radius:999px;border:1px solid #eee">
      </div>
      <div id="recipesGrid" class="grid" aria-live="polite"></div>
    </section>

    <!-- SHOP -->
    <section id="shop" class="tab-panel hidden">
      <h2>Shop</h2>
      <div id="shopGrid" class="shop-grid"></div>
    </section>

    <!-- GAS -->
    <section id="gas" class="tab-panel hidden">
      <h2>Gas Token Purchase</h2>
      <div class="card gas-block" style="padding:14px">
        <p class="notice">Each gas minute = 1 token. Buy tokens and they will be added to cart (priced).</p>
        <div style="display:flex;gap:12px;align-items:center;flex-wrap:wrap">
          <label>Tokens (minutes): <input id="gasQty" type="number" min="1" value="1" style="width:80px;padding:6px;border-radius:6px;border:1px solid #eee"></label>
          <div>Price per token: <strong id="tokenPrice">50</strong> KES</div>
          <button id="addGas" class="btn" type="button">Add to Cart</button>
        </div>
        <div style="margin-top:12px">Estimated total: <strong id="gasTotal">50</strong> KES</div>
      </div>
    </section>

    <!-- FRIDGE -->
    <section id="fridge" class="tab-panel hidden">
      <h2>Your Fridge (Saved Ingredients)</h2>
      <div id="fridgeList"></div>
    </section>
  </main>

  <!-- CART PANEL -->
  <div id="cartPanel" class="cart-panel hidden" aria-live="polite" aria-hidden="true">
    <h3>Cart</h3>
    <div id="cartItems"></div>
    <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center;gap:8px;flex-wrap:wrap">
      <div><strong>Total:</strong> <span id="cartTotal">0</span> KES</div>
      <div style="display:flex;gap:8px">
        <button id="clearCart" class="btn small secondary" type="button">Clear</button>
        <button id="composeWhatsapp" class="btn small" type="button">Send to WhatsApp</button>
      </div>
    </div>
  </div>

  <div id="toast"></div>
  <footer>Built for Unico Kitchen â€” replace images, phone and prices in the code. Ready for GitHub Pages.</footer>

  <script>
/* ==========================
   CONFIG â€” EDIT THESE VALUES
   ========================== */
const CONFIG = {
  // WhatsApp number in international format (no +). Example: Kenya mobile 07... => 2547...
  PHONE_NUMBER: '254798459336',

  // Gas token price (KES)
  TOKEN_PRICE: 50,

  // Logo URL â€” best to upload to your repo and use a relative path like "images/logo.png"
  LOGO_URL: 'https://chatgpt.com/backend-api/estuary/content?id=file_000000000be46243bf003c9c16ca6bd8&ts=489056&p=fs&cid=1&sig=47850247fa0cf989f007af960a690ab0e8320ab43338b560e3837b4c507e6078&v=0'
};

/* ==========================
   DATA: RECIPES & SHOP ITEMS
   - Edit or replace these later
   ========================== */
/* Recipes: each recipe can map ingredient.shopId -> shopItems.id
   The "Cook (WhatsApp)" flow will send a friendly message about the recipe (no prices).
   The "Add ingredients to shop" button will add shop items (with prices) to cart.
*/
const recipes = [
  // Chicken Pilau (example)
  {
    id: 'chicken-pilau',
    title: 'Chicken Pilau',
    image: 'https://img-global.cpcdn.com/recipes/cefe9d01076b938b/300x426f0.5_0.56875_1.0q80/chicken-pilau-recipe-main-photo.webp',
    ingredients: [
      { name: '3 cups basmati rice', shopId: 'rice2' },
      { name: '2 tbs pilau masala', shopId: 'pilau-spice' },
      { name: 'Onions', shopId: 'onion1' },
      { name: 'Salt', shopId: 'salt1' },
      { name: 'Garlic ginger paste', shopId: 'garlic-paste' },
      { name: '6 cups hot water' },
      { name: '2 kg chicken pieces', shopId: 'chicken1' }
    ],
    steps: [
      'Fry lots of onions till dark brown â€” keep stirring to avoid burning.',
      'Add garlic-ginger paste, pilau masala and salt; stir until fragrant.',
      'Add pre-baked chicken and cook ~5 minutes to infuse flavors.',
      'Add rice and hot water; cook on medium-low until water evaporates.',
      'Rest 5 minutes, fluff and serve.'
    ]
  },

  // Ugali
  {
    id: 'ugali',
    title: 'Ugali (Maize Meal)',
    image: 'https://images.unsplash.com/photo-1564758866810-0d9b3e3b2b20?w=1200&q=60',
    ingredients: [
      { name: '2 cups maize flour', shopId: 'maize1' },
      { name: '4 cups water' },
      { name: 'Salt to taste', shopId: 'salt1' }
    ],
    steps: [
      'Boil water with a pinch of salt.',
      'Slowly add maize flour while stirring to avoid lumps.',
      'Cook until firm and smooth; press and serve hot.'
    ]
  },

  // Mchele (plain rice)
  {
    id: 'mchele',
    title: 'Mchele (Plain Rice)',
    image: 'https://images.unsplash.com/photo-1589308078054-8323d04f1b8f?w=1200&q=60',
    ingredients: [
      { name: '2 cups rice', shopId: 'rice2' },
      { name: '4 cups water' },
      { name: 'Salt', shopId: 'salt1' },
      { name: '1 tbsp oil', shopId: 'oil1' }
    ],
    steps: [
      'Rinse rice until water is clear.',
      'Boil water with oil and salt, add rice and simmer on low until cooked.',
      'Fluff and serve.'
    ]
  },

  // Chapati
  {
    id: 'chapati',
    title: 'Chapati (Flatbread)',
    image: 'https://images.unsplash.com/photo-1604908177522-7c2c9fa0d6c3?w=1200&q=60',
    ingredients: [
      { name: '2 cups flour', shopId: 'flour1' },
      { name: '1 cup water (approx.)' },
      { name: '2 tbsp oil', shopId: 'oil1' },
      { name: 'Salt to taste', shopId: 'salt1' }
    ],
    steps: [
      'Mix flour, salt and oil; add water slowly to form soft dough.',
      'Rest 15â€“30 minutes; divide, roll thin and cook on hot skillet.',
      'Brush with oil and serve warm.'
    ]
  },

  // Omelette
  {
    id: 'omelette',
    title: 'Simple Omelette',
    image: 'https://images.unsplash.com/photo-1551218808-94e220e084d2?w=1200&q=60',
    ingredients: [
      { name: '2 eggs', shopId: 'eggs6' },
      { name: 'Salt & pepper', shopId: 'salt1' },
      { name: '1 tbsp oil', shopId: 'oil1' },
      { name: '1 small onion, chopped', shopId: 'onion1' }
    ],
    steps: [
      'Beat eggs with salt & pepper.',
      'Fry onion in oil until soft, pour egg mixture and cook until set.',
      'Fold and serve with bread or chapati.'
    ]
  },

  // Vegetable Stir Fry
  {
    id: 'veg-stir-fry',
    title: 'Vegetable Stir Fry',
    image: 'https://images.unsplash.com/photo-1506806732259-39c2d0268443?w=1200&q=60',
    ingredients: [
      { name: 'Mixed vegetables', shopId: 'veg-mix' },
      { name: '1 tbsp soy sauce', shopId: 'soy1' },
      { name: '1 tbsp oil', shopId: 'oil1' },
      { name: 'Garlic (minced)', shopId: 'garlic-paste' }
    ],
    steps: [
      'Heat oil and fry garlic; add mixed vegetables and stir-fry on high.',
      'Add soy sauce; cook until tender-crisp.',
      'Serv
